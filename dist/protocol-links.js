(()=>{var a=Object.defineProperty;var e=(s,o)=>a(s,"name",{value:o,configurable:!0});const r=class r extends CustomModule{constructor(){super({name:"VRCX Protocol Links \u{1F517}",description:"Adds context menu items to copy VRCX protocol links for users, avatars, worlds, groups and instances",authors:[{name:"Bluscream",description:"VRCX Plugin System Maintainer",userId:"usr_08082729-592d-4098-9a21-83c8dd37a844"}],tags:["Utility","Integration"],required_dependencies:["context-menu-api"]})}async load(){this.logger.log("Protocol Links plugin ready"),this.loaded=!0}async start(){if(this.utils=window.customjs.utils,this.contextMenuApi=await window.customjs.waitForModule("context-menu-api"),!this.contextMenuApi){this.logger.error("Context Menu API plugin not found after waiting");return}this.setupContextMenuItems(),this.enabled=!0,this.started=!0,this.logger.log("Protocol Links plugin started, menu items added")}async onLogin(o){}async stop(){this.logger.log("Stopping Protocol Links plugin"),this.removeContextMenuItems(),await super.stop()}setupContextMenuItems(){if(!this.contextMenuApi){this.logger.error("Context Menu API plugin not available");return}this.contextMenuApi.addUserItem("copy-user-link",{text:"Copy User Link",icon:"ri-link",pluginId:"protocol-links",onClick:o=>this.copyUserLink(o)}),this.contextMenuApi.addUserItem("copy-user-import",{text:"Copy User Import Link",icon:"ri-download-line",pluginId:"protocol-links",onClick:o=>this.copyUserImportLink(o)}),this.contextMenuApi.addAvatarItem("copy-avatar-link",{text:"Copy Avatar Link",icon:"ri-link",pluginId:"protocol-links",onClick:o=>this.copyAvatarLink(o)}),this.contextMenuApi.addAvatarItem("copy-avatar-import",{text:"Copy Avatar Import Link",icon:"ri-download-line",pluginId:"protocol-links",onClick:o=>this.copyAvatarImportLink(o)}),this.contextMenuApi.addWorldItem("copy-world-link",{text:"Copy World Link",icon:"ri-link",pluginId:"protocol-links",onClick:o=>this.copyWorldLink(o)}),this.contextMenuApi.addWorldItem("copy-world-import",{text:"Copy World Import Link",icon:"ri-download-line",pluginId:"protocol-links",onClick:o=>this.copyWorldImportLink(o)}),this.contextMenuApi.addGroupItem("copy-group-link",{text:"Copy Group Link",icon:"ri-link",pluginId:"protocol-links",onClick:o=>this.copyGroupLink(o)}),this.logger.log("All context menu items added")}removeContextMenuItems(){this.contextMenuApi&&(this.contextMenuApi.removeUserItem("copy-user-link"),this.contextMenuApi.removeUserItem("copy-user-import"),this.contextMenuApi.removeAvatarItem("copy-avatar-link"),this.contextMenuApi.removeAvatarItem("copy-avatar-import"),this.contextMenuApi.removeWorldItem("copy-world-link"),this.contextMenuApi.removeWorldItem("copy-world-import"),this.contextMenuApi.removeGroupItem("copy-group-link"),this.logger.log("All context menu items removed"))}copyUserLink(o){if(!o||!o.id){this.logger.showError("No user data available");return}this.utils.copyToClipboard(`vrcx://user/${o.id}`,"User link")}copyUserImportLink(o){if(!o||!o.id){this.logger.showError("No user data available");return}this.utils.copyToClipboard(`vrcx://import/friend/${o.id}`,"User import link")}copyAvatarLink(o){if(!o||!o.id){this.logger.showError("No avatar data available");return}this.utils.copyToClipboard(`vrcx://avatar/${o.id}`,"Avatar link")}copyAvatarImportLink(o){if(!o||!o.id){this.logger.showError("No avatar data available");return}this.utils.copyToClipboard(`vrcx://import/avatar/${o.id}`,"Avatar import link")}copyWorldLink(o){if(!o||!o.id){this.logger.showError("No world data available");return}this.utils.copyToClipboard(`vrcx://world/${o.id}`,"World link")}copyWorldImportLink(o){if(!o||!o.id){this.logger.showError("No world data available");return}this.utils.copyToClipboard(`vrcx://import/world/${o.id}`,"World import link")}copyGroupLink(o){if(!o||!o.id){this.logger.showError("No group data available");return}this.utils.copyToClipboard(`vrcx://group/${o.id}`,"Group link")}addAvatarDatabaseProvider(o){this.utils.copyToClipboard(`vrcx://addavatardb/${o}`,"Avatar database provider link")}createMultiImportLink(o,t){if(!Array.isArray(t)||t.length===0){this.logger.showError("No IDs provided for import");return}const n=["avatar","world","friend"];if(!n.includes(o)){this.logger.showError(`Invalid import type. Must be one of: ${n.join(", ")}`);return}const l=`vrcx://import/${o}/${t.join(",")}`;this.utils.copyToClipboard(l,`${o} import link (${t.length} items)`)}};e(r,"ProtocolLinksPlugin");let i=r;window.customjs.__LAST_PLUGIN_CLASS__=i;})();
